const defaultValues={CODE128:"Example 1234",CODE128A:"EXAMPLE",CODE128B:"Example text",CODE128C:"12345678",EAN13:"1234567890128",EAN8:"12345670",UPC:"123456789999",CODE39:"EXAMPLE TEXT",ITF14:"10012345000017",ITF:"123456",MSI:"123456",MSI10:"123456",MSI11:"123456",MSI1010:"123456",MSI1110:"123456",pharmacode:"1234"},barcode=document.getElementById("barcode"),invalid=document.getElementById("invalid"),rangeControls=document.querySelectorAll('[type="range"]'),colorContorls=document.querySelectorAll('[type="color"]'),barcodeType=document.getElementById("barcodeType"),backgroundTransparent=document.getElementById("backgroundTransparent"),userInput=document.getElementById("userInput"),textAligns=document.getElementsByName("textAlign"),textPositions=document.getElementsByName("textPosition"),fontFamily=document.getElementById("fontFamily"),fontOptions=document.getElementsByName("fontOption");document.addEventListener("DOMContentLoaded",()=>{for(let e of rangeControls)e.oninput=newBarcode;for(let e of colorContorls)e.oninput=newBarcode;barcodeType.onchange=(()=>{userInput.value=defaultValues[barcodeType.value],newBarcode()}),backgroundTransparent.onclick=newBarcode,userInput.oninput=newBarcode,document.getElementById("show").onclick=(()=>{newBarcode()}),document.getElementById("hide").onclick=(()=>{newBarcode()});for(let e of textAligns)e.onclick=newBarcode;for(let e of textPositions)e.onclick=newBarcode;fontFamily.onchange=(()=>{fontFamily.style.fontFamily=fontFamily.value,newBarcode()});for(let e of fontOptions)e.onclick=newBarcode;newBarcode()});const getFontOptions=()=>{const e=document.querySelectorAll('input[name="fontOption"]:checked');let t="";for(let n of e)t+=n.value+" ";return t},newBarcode=()=>{JsBarcode("#barcode",userInput.value,{format:barcodeType.value,width:document.getElementById("barWidth").value,height:parseInt(document.getElementById("barHeight").value),margin:parseInt(document.getElementById("margin").value),lineColor:document.getElementById("foregroundColor").value,background:document.getElementById("backgroundColor").value+(backgroundTransparent.checked?"00":"ff"),displayValue:document.getElementById("show").checked,textAlign:document.querySelector('input[name="textAlign"]:checked').value,textPosition:document.querySelector('input[name="textPosition"]:checked').value,textMargin:parseInt(document.getElementById("textMargin").value),font:fontFamily.value,fontSize:parseInt(document.getElementById("fontSize").value),fontOptions:getFontOptions(),valid:e=>{e?(barcode.classList.remove("d-none"),invalid.classList.add("d-none")):(barcode.classList.add("d-none"),invalid.classList.remove("d-none"))}}),document.getElementById("barWidthDisplay").innerText=document.getElementById("barWidth").value,document.getElementById("barHeightDisplay").innerText=document.getElementById("barHeight").value,document.getElementById("marginDisplay").innerText=document.getElementById("margin").value,document.getElementById("textMarginDisplay").innerText=document.getElementById("textMargin").value,document.getElementById("fontSizeDisplay").innerText=document.getElementById("fontSize").value};document.getElementById("download").onclick=(()=>{var e=document.createElement("a");e.download="barcode.png",e.href=barcode.toDataURL(),e.click()});